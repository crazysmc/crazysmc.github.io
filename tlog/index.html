<!doctype html>
<html lang=en>
<meta charset=utf-8>
<meta name=viewport content="width=device-width">
<link rel=stylesheet href=../tchat/style.css>
<link rel=stylesheet href=../tchat.css>
<link rel=stylesheet href=style.css>
<script src=setup.js></script>
<script src=twitch-gql.js></script>
<base target=_blank>

<title>tLog – User viewer for Twitch</title>

<h1>tLog – Twitch user viewer and log recorder</h1>

<form name=tlog>

<fieldset>
<legend>User lookup</legend>

<p>
<input name=channel id=channel
       placeholder="639267013 or crazysmc or https://www.twitch.tv/crazysmc">
<label for=channel>user ID, login or channel link</label>

<p>
<input name=query type=submit accesskey=q value=Query>

</fieldset>

<fieldset>
<legend>Channel information</legend>

<p id=error class=hidden>

<template id=cards>
<button class=card title="left click to query user,
right click to open in new tab">
  <img alt=—>
  <span>—</span>
  <time datetime=P0D></time>
</button>
<span class=more>more than 100 …</span>
</template>

<p>
<span class=lbl>profile image:</span> <a id=profileImage><img alt=—></a>
<span class=lbl>user ID:</span> <code id=id>—</code>
<span class=lbl>login:</span> <a id=login>—</a>
<span class=lbl>display name:</span> <a id=displayName>—</a>

<p>
<span class=lbl>created:</span> <time datetime=P0D id=created>—</time>
<span class=lbl>updated:</span> <time datetime=P0D id=updated>—</time>
<span class=lbl>deleted:</span> <time datetime=P0D id=deleted>—</time>
<span class=lbl>followers:</span> <a id=follow accesskey=f>—</a>

<p>
<span class=lbl>primary:</span> <span id=primaryColor>—</span>
<span class=lbl>banner:</span> <a id=bannerImage>—</a>
<span class=lbl>offline:</span> <a id=offlineImage>—</a>

<p>
<span class=lbl>description:</span> <span id=description>—</span>

<p>
<span class=lbl>rules:</span> <span id=rules>—</span>

<p>
<span class=lbl>roles:</span> <span id=roles>—</span>
<span class=lbl>color:</span> <span id=chatColor>—</span>
<span class=lbl>badges:</span> <span id=badges>—</span>

<p>
<span class=lbl>mods:</span> <span id=mods>—</span>

<p>
<span class=lbl>vips:</span> <span id=vips>—</span>

<p>
<span class=lbl>team:</span> <a id=team>—</a>
<span class=lbl>team owner:</span> <span id=owner>—</span>

<p>
<span class=lbl>last broadcast:</span>
  <time datetime=P0D id=started>—</time>
<span class=lbl>game:</span> <a id=game>—</a>
<span class=lbl>title:</span> <span id=title>—</span>

<p>
<span class=lbl>predictions:</span> <a id=pred accesskey=p>—</a>

<p>
<input name=saveUser type=button value="Save as JSON">

</fieldset>

<fieldset id=follow-extra class=hidden>
<legend>Following (why is this public?)</legend>

<p>
<span class=lbl>followed games:</span> <span id=followedGames>—</span>

<hr>

<p>
<span class=lbl>followers:</span> <span id=follow2>—</span>

<p>
<select name=followerOrder>
  <option value=asc_followers>oldest</option>
  <option value=desc_followers selected>newest</option>
</select>
<span class=lbl>followers:</span>
<span id=asc_followers class=hidden>—</span>
<span id=desc_followers>—</span>

<hr>

<p>
<span class=lbl>following others:</span> <span id=following>—</span>

<p>
<select name=followOrder>
  <option value=asc_follows>oldest</option>
  <option value=desc_follows selected>newest</option>
</select>
<span class=lbl>follows:</span>
<span id=asc_follows class=hidden>—</span>
<span id=desc_follows>—</span>

<p>
<input name=saveFollow type=button value="Save as JSON">

</fieldset>

<fieldset id=pred-extra class=hidden>
<legend>Predictions</legend>

<template id=preds>
<li><span class=lbl>status:</span> <span class=status>—</span>
    <span class=lbl>created:</span> <span class=created>—</span>
    <span class=lbl>locked:</span> <span class=locked>—</span>
    <span class=lbl>ended:</span> <span class=ended>—</span>
<br><span class=lbl>title:</span> <span class=title>—</span>
    <ul class=outcomes></ul>
<li class=outcome><img>
    <span class=title></span>
    <span class=lbl>points:</span> <span class=totalPoints></span>
    <span class=lbl>voters:</span> <span class=totalUsers></span>
    <span class=topPredictors></span>
<li><input type=button value="More …"
           title="Shift click to load all repeatedly">
</template>

<ul id=pred-list>
</ul>

<p>
<input name=savePred type=button value="Save as JSON">

</fieldset>

<fieldset>
<legend>Recent chat</legend>

<p>
<a id=tchat>—</a>

</fieldset>

</form>
